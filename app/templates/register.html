{% extends "base.html" %}

{% block title %}Sign Up – Manopriyam{% endblock %}

{% block content %}
<style>
  /* allow normal scrolling */
  html, body {
    margin: 0;
    padding: 0;
    height: auto;
    overflow-y: auto;
  }

  /* blurred background, same as entry/history/login */
  body::before {
    content: "";
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: url('{{ url_for('static', filename='entry-bg.png') }}')
                no-repeat center center fixed;
    background-size: cover;
    background-position: center 13%;
    filter: blur(6px);
    z-index: -1;
  }

  /* center & style the register box */
  .auth-container {
    position: relative;
    background: #fff;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    padding: 2rem;
    border-radius: 4px;
    margin: 6rem auto;      /* push down below navbar */
    max-width: 400px;
    width: 90%;
  }

  .auth-container h2 {
    margin-bottom: 1.5rem;
    text-align: center;
  }

  /* inputs styling */
  .form-control,
  textarea {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid #ccc;
    border-radius: 8px;
    box-sizing: border-box;
    font-size: 1rem;
    margin-bottom: 1rem;
    background: #fff;
  }

  .btn-primary {
    width: 100%;
    padding: 0.75rem;
    font-size: 1rem;
  }

  .mt-3 {
    margin-top: 1rem;
    text-align: center;
  }
</style>

<div class="auth-container">
  <h2>Create an Account</h2>
  <form method="post" action="{{ url_for('bp.register') }}">
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, msg in messages %}
          <div class="flash {{ category }}">{{ msg }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}
    <div class="form-group">
      <label for="email">Email</label>
      <input
        type="email"
        id="email"
        name="email"
        class="form-control"
        placeholder="you@example.com"
        required
      >
    </div>
    <div class="form-group">
      <label for="password">Password</label>
      <input
        type="password"
        id="password"
        name="password"
        class="form-control"
        placeholder="••••••••"
        required
      >
    </div>
    <div class="form-group">
      <label for="preferences">Hobbies / Preferences</label>
      <textarea
        id="preferences"
        name="preferences"
        class="form-control"
        placeholder="e.g. reading, basketball, painting…"
        rows="3"
      ></textarea>
    </div>
    <button type="submit" class="btn btn-primary">Sign Up</button>
  </form>
  <p class="mt-3">
    Already have an account?
    <a href="{{ url_for('bp.login') }}">Log in here</a>.
  </p>
</div>
{% endblock %}
